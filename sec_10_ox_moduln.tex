\section{$\O_X$-Moduln}
\newcommand{\OX}{$\O_X$-}

\subsection{$\O_X$-Moduln}
\begin{definition}[$\O_X$-Modul]
    \index[def]{O-Modul@\OX-Modul@\OX-Modul|hypertarget{def:ox modul}{}}
    Ein \emph{$\O_X$-Modul} (oder eine \emph{$\O_X$-Modulgarbe}) ist eine 
    Garbe $\M$ zusammen mit einer $\O_X(U)$-Modulstruktur auf $\M(U)$
    für jedes offene $U\osubset X$, so dass für 
    $V \osubset U \osubset X$ folgendes Diagramm kommutiert:
    \[\begin{tikzcd}
        \O_X(U) \times \M(U) \rar \dar{\cdot\rest V \times \cdot \rest V}
        & \M(U) \dar{\cdot \rest V}\\
        \O_X(V) \times \M(V) \rar & \M(V)
    \end{tikzcd}\]
    
    Ein \emph{Morphismus} $\M \to \M'$ von solchen ist ein Garbenmorphismus
    $\alpha: \M\to \M'$, so dass für jedes $U\osubset X$ 
    $\alpha(U):\M(U) \to \M'(U)$ $\O_X(U)$-linear ist.
\end{definition}


\begin{bemerkung}
    Man hat einige Konstruktionen aus der kommutativen Algebra auch für
    \OX Moduln, wie z.B.
    \begin{itemize}
      \item $\M \otimes_{\O_X} \M': U \mapsto \M(U) \otimes_{\O_X(U)} \M'(U)$.
      \item $\oplus_{i\in I} \M_i$ von $\O_X$-Moduln $\M_i$.
      \item Für $\alpha:\M\to \M'$ $\O_X$-Modul-Morphismus haben wir
        $\ker \alpha$ und $\im \alpha$,
        wobei Kern und Bild in $\Sh_X$ zu lesen sind.
    \end{itemize}
\end{bemerkung}


\begin{definition}[frei, lokal frei]
    \index[def]{O-Modul@\OX-Modul!frei}
    \index[def]{O-Modul@\OX-Modul!lokal frei}
    Ein \hyperlink{def:ox modul}{\OX Modul} $\M$ heißt
    \begin{itemize}
      \item \emph{frei}, wenn es eine Menge $I$ und einen 
        \OX Modul-Isomorphismus 
        \[ \O_X^{(I)} := \bigoplus_{i\in I} \O_X \xto{\cong} \M\]
        gibt,
      \item \emph{lokal frei} oder \emph{Vektorbündel von Rang $r$}, 
        wenn es zu jedem $x\in X$ ein $x \in U\osubset X$ und einen
        $\O_U$-Modul-Isomorphismus
        \[ \O_U^r \xto{\cong} \M\rest U\]
        gibt.
    \end{itemize}
\end{definition}

\subsection{Exkurs: Vektorbündel in der Topologie}
Sei $X$ ein topologischer Raum. Dann ist ein $\R$-Vektorbündel vom Rang $r$
eine stetige Abbildung $\pi: E \to X$ mit einer $\R$-Vektorraumstruktur
auf $E_x := \pi\inv(\{x\})$ zusammen mit einem sog Bündelatlas,
bestehend aus Karten
\[ \psi_U: E\rest U := \pi\inv(U) \to U\times \R^r\]
mit $\pr_U \circ \psi_U = \pi\rest{\pi\inv(U)}$, d.h.
\[\begin{tikzcd}
    E\rest U = \pi\inv(U) \ar{rr}{\approx} 
    \drar{\pi}& &  U\times \R \dlar{\pr_U}\\
    & U &
\end{tikzcd}\]
kommutiert und die Karten sind
\begin{itemize}
  \item Homöomorphismen und so, dass
  \item $\psi_x: E_x \to \{x\} \times \R^r$ ein linearer Isomorphismus ist.
\end{itemize}

\paragraph{Wie verstehen wir das als Garbe von Moduln?}

Setze $\O_X := U \mapsto \O_X(U) := \{ f: U \to \R \mid f\text{ stetig}\}$,
also die Garbe der stetigen Funktionen. Dann ist $(X, \O_X)$ ein lokal
geringter Raum. Weiter haben wir $E \xto{\pi} X$ stetig.
Setze 
\[ \cal E : U \mapsto \cal E(U) := \{\sigma: U \to \pi\inv(U) \subseteq E \mid
    \sigma\text{ stetig, } \pi \circ \sigma = \id_U\}.\]
Dies ist eine Garbe. $\cal E$ ist sogar eine \OX-Modulgarbe:
Für $U\osubset X$ gilt
\[ \O_X(U) \times \cal E(U) \to \cal E(U),\ (f,\sigma) \mapsto f\cdot \sigma.\]
wobei
\[f\cdot \sigma : \funcdef{ U & \to & \pi\inv(U) \\
    x & \mapsto & \underbrace{f(x)}_{\in \R} \cdot 
    \underbrace{\sigma(x)}_{\in E_x}}
\]
und $E_x$ ein $\R$-Vektorraum ist.
 
Bleibt nur noch zu klären, wie die Bündelkarten 
$\psi_U: E\rest U = \pi\inv(U) \xto{\cong} U \times \R^r$ eingehen:
\[\begin{tikzcd}
    \pi\inv(U) \rar \drar[swap]{\pi} & U \times \R^r \dar[swap]{\pr_U} 
        & \lar[empty][description]{\ni} 
        (x,\alpha(x)) := (x, \pi_{\R^r} \circ \psi_U \circ \sigma(x)) \\
    & U \ular[bend left, mapsto]{\cal E(U) \ni \sigma}
        \uar[bend right,swap]{\psi_U \circ \sigma} & 
        x \lar[empty][description]{\ni} \uar[mapsto]
\end{tikzcd}\]

$\alpha: U \to \R^r$ ist eine stetige Abbildung, also
$\alpha \in \O_X(U)^r$. Weiter liefert $\psi_U$ einen 
$\O_X(U)$-Modul-Isomorphismus
\[
    \funcdef{ \cal E(U) & \xto{\cong} & \O_X(U)^r \\ 
        \sigma & \mapsto & \pr_{\R^r} \circ \psi_U \circ \sigma \\
        \psi_U\inv \circ (\id_U \times \alpha)  & \mapsfrom & \alpha.}
\]
Schränkt man auf $V \osubset U$ ein, ist dies verträglich. Also
\[ \cal E\rest U \cong \O_X(U)\]
als $\O_X\rest U$-Modulgarben.

\subsection{Quasi-Kohärenz}

\begin{definition}[quasi-kohärent]
    \index[def]{O-Modul@\OX-Modul!quasi-kohärent}
    Eine $\O_X$-Modulgarbe $\M$ heißt \emph{quasi-kohärent}, wenn es
    zu jedem $x\in X$ ein $x \in U \osubset X$ und Mengen $I,J$ und
    eine exakte Sequenz von $\O_U$-Modulgarben
    \[\begin{tikzcd}
        \O_X\rest U^{(J)} \rar &\O_X\rest U^{(J)} \rar &
        \M\rest U \rar & 0
    \end{tikzcd}\]
    gibt.
\end{definition}

\begin{definition}[von seinen globalen Schnitten erzeugt]
    \index[def]{O-Modul@\OX-Modul!von seinen globalen Schnitten erzeugt}
    Ein \OX Modul $\M$ wird \emph{von seinen globalen Schnitten erzeugt},
    wenn für jedes $x\in X$ der Morphismus von $\O_{X,x}$-Moduln
    \[ \M(X) \otimes_{\O_X(X)} \O_{X,x} \to \M_x\]
    surjektiv ist.
\end{definition}

Mit anderen Worten: Jeder Keim $m_x \in \M_x$ lässt sich schreiben als
\[ m_x = \sum_{\text{endl. viele }i} \lambda_i [\sigma_i]_x\]
für $\lambda_i \in \O_{X,x}$ und $\sigma_i \in \M(X)$.

Dies gilt nicht für $\O_X$ selbst; betrachte beispielsweise
$X = \C\P^1$ und $\O_X$ die Garbe der holomorphen Funktionen.

\begin{bemerkung}
    Es existiert ein surjektives 
    $\O_X\rest U^{(I)} \twoheadrightarrow \M\rest U$ genau dann, wenn
    $\M\rest U$ durch seine auf $U$ globalen Schnitte erzeugt wird.
    
    $\M$ ist quasi-kohärent genau dann, wenn
    $\M\rest U$ durch seine globalen Schnitte erzeugt wird und die Relationen
    (also $\ker(\O_X\rest U^{(I)}) \to \M)$) auch.  
\end{bemerkung}

\subsection{Quasikohärente Garben auf $\Spec A$}

\paragraph{Beachte folgende Konstruktion}
Ist $M$ ein $A$-Modul, so betrachte
\begin{itemize}
  \item für $f \in A$: $M_f = M \otimes_A A_f$ 
    als $A_f = \O_{\Spec A}(D(f))$-Modul.
  \item für $\p \in \Spec A$: $M_\p = M\otimes_A A_\p$
    als $A_\p = \O_{\Spec A,\p}$-Modul.
\end{itemize}
Dies ist eine $\fr B$-Garbe für $\fr B = \{D(f)\mid f\in A\}$ der Basis 
der Topologie auf $\Spec A$. Dann folgt analog zu 
\thref{satz:spec a hat eindeutige ringgarbe} folgender Satz.

\begin{satz}
    \label{satz:a modul hat ein o spec a modulgarbe}
    Zu gegebenem $A$-Modul $M$ existiert (bis auf Isomorphie) genau eine
    $\O_{\Spec A}$-Modulgarbe $M^\sim$ auf $X = \Spec A$ mit
    \begin{align*}
        M^\sim (D(f)) &\cong M_f\\
        (M^\sim)_\p &\cong M_\p
    \end{align*} 
    Insbesondere ist $M^\sim(\Spec A) = M$.
\end{satz}


% 18.04.2013

\begin{satz}
    \label{satz:sim exakt}
    Der Funktor
    \[
        ^\sim: \funcdef{ \Moduln{A} & \to & \Moduln{\O_{\Spec A}} \\
            M & \mapsto & M^\sim\\
            (M \xto{\varphi} N) & \mapsto &  (M^\sim \xto{\varphi^\sim}N^\sim)}
    \]
    ist exakt.
\end{satz}
\begin{proof}
    Es ist zu zeigen: Ist
    \[ M' \xto\alpha M \xto\beta M''\]
    eine exakte Sequenz in $\Moduln{A}$, so ist
    \[ (M')^\sim \xto{\alpha^\sim} M^\sim \xto{\beta^\sim} (M'')^\sim\]
    eine exakte Sequenz in $\Moduln{\O_{\Spec A}}$. Letzteres ist aber
    äquivalent dazu, dass
    \[ (M')_\p^\sim \xto{\alpha_\p^\sim} M_\p^\sim \xto{\beta_\p^\sim}
         (M'')_\p^\sim\]
    eine exakte Halmsequenz für alle $\p\in\Spec A$ ist.
    Dies ist aber klar, weil $\A_\p$ flach über $A$ ist 
    (\autocite[Example 9.1.1]{hartshorne1977algebraic} oder
    \autocite[Abschnitt 7 Satz 8]{bosch2009algebra}) und
    $M_\p^\sim = M_\p \cong M\otimes_A A_\p$. 
\end{proof}

\begin{korollar}
    \label{kor:m a modul dann m sim quaiskohaerent}
    Für einen $A$-Modul $M$ ist $M^\sim$ quasi-kohärent.
\end{korollar}
\begin{proof}
    Für $M$ hat man
    \[ A^{(J)} \to A^{(I)} \xto\varphi M \to 0.\]
    Nun wähle beispielsweise $I := M$ und $J := \ker\varphi$.
    Ferner ist 
    \[ (A^{(J)})^\sim = (\oplus_{j\in J}A)^\sim = \oplus_{j\in J}
        A^\sim = \oplus_{j  \in J} \O_X = \O_X^{(J)}\]
    und da $^\sim$ exakt ist, folgt die Exaktheit von
    \[ \O_X^{(J)} \to \O_X^{(I)} \to M^\sim \to 0.\] 
\end{proof}

\begin{bemerkung}
    Sind $M$ und $N$ $A$-Moduln, so ist
    \[ (M\otimes_A N)^\sim = M^\sim \otimes_{\O_{\Spec A}} N^\sim.\]
\end{bemerkung}

\begin{satz}
    \label{satz:modulgarbe quasikohaerent <=> iso auf einschraenkung}
    Sei $(X,\O_X)$ ein Schema. Dann ist eine $\O_X$-Modulgarbe $\M$
    genau dann quasi-kohärent, wenn für jede affin offene Teilmenge
    $U$ ein Isomorphismus
    \[ \M\rest U \cong (\M(U))^\sim\]
    existiert.
\end{satz}
\begin{proof}
    \begin{description mathquote}
    \item[\Leftarrow] Folgt aus \thref{kor:m a modul dann m sim quaiskohaerent}.
    \item[\Rightarrow]
        Aus nachstehenden Hilfslemmas haben wir die Behauptung, da
        $\M(U)^\sim$ durch die Eigenschaft auf den $D(f)$s festgelegt ist.
    \end{description mathquote}
\end{proof}

\begin{hilfslemma}
    In der Situation von 
    \thref{satz:modulgarbe quasikohaerent <=> iso auf einschraenkung} gilt:
    Für jedes $x \in X$ existiert ein affin offenes $ x \in U\osubset X$
    mit $\M\rest U \cong (\M(U))^\sim$.
\end{hilfslemma}
\begin{proof}
    Man hat den kanonischen Garbenmorphismus
    \[ (\M(U))^\sim \to \M\rest U.\]
    Dieser rührt her von
    \[(\M(U))^\sim (D(f)) = \M(U)_f \xto\varrho \M(D(f)),\]
    welcher induziert wird von den beiden Restriktionen
    $\res^\M: \M(U) \to \M(D(f))$ und
    $\res^\O: \O_X(U) \to \O_X(D(f))$, da 
    wird $\M(U)$ als einen $\O_X(U)$-Modul und $\M(D(f))$ als einen
    $\O_X(D(f))$-Modul auffassen wollen. Demnach haben wir für
    $\lambda \in \O_X(U)$ und $m\in \M(U)$
    \[\res^\M(\lambda m) = \res^\O(\lambda) \res(m).\]
    Weiter ist $f \in A_f^\times = (\O_U(D(f)))^\times$, also 
    dort invertierbar und wir können setzen
    \[\rho(\tfrac{m}{f^n}) := \res(m) f^{-n}.\]
    
    Da $\M$ quasi-kohärent existiert für alle $x \in X$ ein affin offenes
    $x\in U\osubset X$, so dass
    \[\O_X\rest U^{(J)} \xto\beta \O_X\rest U^{(I)} \xto\alpha 
    \M\rest U \xto{} 0 \] 
    exakt ist. Insbesondere haben wir
    \[\O_X(U)^{(J)} \to \O_X(U)^{(I)} \to 
    \M(U).\]
    Setze nun $N:= \im(\alpha(U))\subseteq \M(U)$. $N$ ist ein 
    $\O_X(U)$-Untermodul. Damit ist
    \[\O_X(U)^{(J)} \to \O_X(U)^{(I)} \to 
        N \to 0\]
    eine exakte Sequenz von $\O_X(U)$-Moduln. Wir wenden $^\sim$ an 
    und da $^\sim$ exakt (\thref{satz:sim exakt}) erhalten wir
    \[\O_X\rest U^{(J)} \to \O_X\rest U^{(I)} \to
        N^\sim \to 0.\]
    Mit dem Homomorphiesatz folgt dann $\M\rest U \cong N^\sim$. 
\end{proof}

\begin{hilfslemma}
    In der Situation von 
    \thref{satz:modulgarbe quasikohaerent <=> iso auf einschraenkung} gilt:
    Für beliebiges $U = \Spec A \osubset X$ und $f\in A = \O_X(U)$ gilt
    \[ \M(U)_f \cong \M(D(f)).\]
\end{hilfslemma}
\begin{proof}
    Wir überdecken $U = \bigcup_{i=1}^r U_i$ durch endlich viele affin 
    offene $U_i$ (es reichen endlich viele, da $\Spec A$ quasi-kompakt!).
    Die $U_i$ wählen wir dabei so, dass sie die Eigenschaften 
    im ersten Hilfslemma genügen
    und setzen $V_i = U_i \cap D(f) = D(f\rest{U_i})$.
    Dann haben wir
    \[\begin{tikzcd}
        0 \rar & \M(U)_f \rar \dar{\alpha}[swap]{\text{kanonisch}} & 
        \oplus_i \M(U_i)_f \rar \dar{\cong}[swap]{\beta} & 
        \oplus_{(i,j)} \M(U_i \cap U_j)_f \dar{\cong}[swap]{\gamma}\\
        0 \rar & \M(D(f)) \rar & \oplus_i \M(V_i) \rar & 
        \oplus_{(i,j)} \M(V_i \cap V_j),
    \end{tikzcd}\]
    wobei die Zeilen jeweils exakt sind und die Isomorphismen sich aus
    dem ersten Hilfslemma ergeben. Man erjagt sich aus $\beta$ ein 
    Isomorphismus, dass $\alpha$ injektiv ist und zusammen mit $\gamma$
    einem Isomorphismus, kann man erneut auf Jagd gehen und
    die Surjektivität von $\alpha$ erlegen.    
\end{proof}


\begin{satz}
    \label{satz:kurze exakte sequenz mit quasikohaerent bleibt exakt}
    Ist $X = \Spec A$ affin und 
    \[\begin{tikzcd}
        0 \rar & \M' \rar{\alpha} & \M \rar{\beta} & \M'' \rar & 0
    \end{tikzcd}\]
    eine kurze exakte Sequenz von $\O_X$-Modulgarben und ist
    $\M'$ quasikohärent, so ist
    \[\begin{tikzcd}
        0 \rar & \M'(X) \rar{\alpha(X)} & \M(X) \rar{\beta(X)} & 
        \M''(X) \rar & 0
    \end{tikzcd}\]
    eine kurze exakte Sequenz von $A$-Moduln.
\end{satz}

Bevor wir den Beweis des Satzes angeben, wollen wir in folgendem Lemma und 
anschließendem Beispiel sehen, dass die Bedingung der Quasikohärenz wirklich
notwendig ist, um Rechtsexaktheit zu garantieren.

\begin{lemma}
    \label{lemma:raum in garbe einsetzen ist linksexakt}
    Für jeden topologischen Raum $X$ ist
    \[\Gamma(X,\_): \Sh_X \to \Ab,\ \F \mapsto \F(X) =: \Gamma(X,\F)\] 
    linksexakt,
    d.h. ist
    \[\begin{tikzcd}
        0 \rar & \F \rar{\alpha} & \G \rar{\beta} & \cal H \rar & 0
    \end{tikzcd}\]
    eine kurze exakte Sequenz in $\Sh_X$, so ist
    \[\begin{tikzcd}
        0 \rar & \F(X) \rar{\alpha(X)} & \G(X) \rar{\beta(X)} & 
        \cal H(X)
    \end{tikzcd}\]
    eine exakte Sequenz in $\Ab$.
\end{lemma}
\begin{proof}
    Zeigen wir zunächst die Injektivität von $\alpha(X)$: Sei
    $\sigma \in \F(X)$ mit $\alpha(X)\sigma = 0\in \G(X)$, so ist
    $[\alpha(X)\sigma]_x  = 0 \in \G_x$ für alle $x \in X$, also ist
    $\alpha_x([\sigma]_x) = 0$ mit $[\sigma]_x \in \F_x$
    und da $\alpha_x$ injektiv nach Voraussetzung, folgt
    $[\sigma]_x = 0$, ergo $\sigma = 0$.
    
    Als zweites folgern wir $\ker \beta(X) = \im \alpha(X)$:
    Da $\beta \circ \alpha = 0$, folgt $\beta(X) \circ \alpha(X) = 0$,
    also $\im\alpha(X) \subseteq \ker \beta (X)$.
    Sei nun $\sigma \in \ker\beta (X)$. Insbesondere gilt für jedes 
    $U \osubset X$, dass $\beta(U)\sigma\rest U = 0 \in \cal H(U)$.
    Da $\ker \beta = \im\alpha$ nach Voraussetzung, existiert eine
    offene Überdeckung $X = \cup_{i\in I} U_i$ mit 
    $\ker\beta(U_i) = \im\alpha(U_i)$. Also finden wir zu jedem
    $i \in I$ ein $\tau_i \in \F(U_i)$ mit 
    $\alpha(U_i)\tau_i = \sigma\rest{U_i}$. Wir müssen nur noch sehen, 
    dass diese geeignet verkleben:
    Es gilt
    \[\alpha(U_i \cap U_j)\tau_i\rest{U_i \cap U_j} = \sigma\rest{U_j\cap U_j}
         = \alpha(U_i \cap U_j) \tau_j\rest{U_j \cap U_j}\]
    und mit der Injektivität von $\alpha(U_i \cap U_j)$ folgt
    \[\tau_i\rest{U_i \cap U_j} = \tau_j\rest{U_i \cap U_j}.\]
    Also verkleben die $(\tau_i)_{i\in I}$ zu $\tau \in \F(X)$ mit
    $\alpha(X)\tau = \sigma$.
\end{proof}

\begin{beispiel}
    In \thref{lemma:raum in garbe einsetzen ist linksexakt} ist
    die Rechtsexaktheit im Allgemeinen nicht gegeben, wie man am Beispiel
    $X = \C\setminus\{0\}$ sieht: Setze $\G := \O_{\C^\times}$ die 
    Garbe der holomorphen Funktionen und 
    $\cal H := \O_{\C^\times}^\times$ die Garbe der nirgends verschwindenden
    holomorphen Funktionen, so ist
    \[\begin{tikzcd}
        0 \rar & 2\pi i \Z \rar & \G \rar{\exp} & 
        \cal H \rar & 0
    \end{tikzcd}\]
    eine kurze exakte Sequenz, aber
    \[\begin{tikzcd}
        0 \rar & 2\pi i \Z \rar & \G(X) = \O_{\C^\times}(\C\setminus\{0\}) 
        \rar{\exp} & 
        \cal H(X) =  \O_{\C^\times}^\times(\C\setminus\{0\})
    \end{tikzcd}\]
    ist alles, da die letzte Abbildung nicht surjektiv ist (es gibt keinen
    komplexen Logarithmus auf $\C\setminus\{0\}$).
\end{beispiel}


\begin{proof}[von 
    \thref{satz:kurze exakte sequenz mit quasikohaerent bleibt exakt}]
    Nach \thref{lemma:raum in garbe einsetzen ist linksexakt} bleibt noch
    zu zeigen, dass $\M(X) \to \M''(X)$ surjektiv ist. Wir wählen 
    eine Überdeckung $X = \cup_i U_i$, von offenen $\cal U = (U_i)_i$,
    so dass auf den $U_i$ die 
    Sequenz \tikzmark{exakt} ist. \tikzmargin{south}{\color{red}
    Mir ist noch nicht ganz klar, warum das geht.}
    Nun können wir \obda annehmen, dass 
    \begin{enumerate}
      \item $U_i$ basisoffen sind, also $U_i = D(f_i)$ für geeignete 
        $f_i \in A$
      \item und $\# I < \infty$, da $X = \Spec A$ quasikompakt ist.
    \end{enumerate}
    \newcommand{\Uij}{U_{ij}}
    Sei $\sigma \in M''(X)$ beliebige. Zu jedem $i\in I$ 
    wähle $\tau_i \in \M(U_i)$, so dass
    $\beta(U_i)(\tau_i) = \sigma\rest{U_i}$. Wir führen die
    Schreibweise $U_{ij} := U_i \cap U_j$ ein und damit ist
    $\beta(U_{ij})(\tau_i\rest{U_{ij}}) = \sigma\rest{U_{ij}} = 
    \beta(U_{ij})(\tau_j\rest{U_{ij}})$, also
    \[\tau_i\rest{U_{ij}} - \tau_j\rest{U_{ij}} \in \ker\beta(U_{ij}) 
        = \im\alpha(U_{ij}),\]
     wobei wir die letzte Gleichheit aus der Linksexaktheit haben. Damit
     können wir \obda $\M'\subseteq \M$ als untergarbe ansehen, also
     $\M'(U) \subseteq \M(U)$ als Untermodul.
     Setze nun $\eta_{ij} := \tau_i\rest{\Uij} - \tau_j\rest{\Uij} \in 
     \M'(\Uij)$ für jedes Paar $(i,j)$.
     
     Diese $(\eta_{ij})_{i,j}$ sind also das "`Hindernis"', dass die $(\tau_i)_i$
     verkleben zu einem $\tau \in \M(X)$!
     Es ist
     \newcommand{\ijk}{_{ijk}}
     \renewcommand{\ij}{_{ij}}
     \newcommand{\ik}{_{ik}}
     \newcommand{\jk}{_{jk}}
     \[0 = d(\eta_{ij})_{i,j} = \left(
        \eta\ij\rest{U\ijk} - \eta\ik\rest{U\ijk} + \eta\jk\rest{U\ijk}
        \right)_{i,j,k}.\]
     Das $d$ werden wir später erklären!
     Nach Wahl der $U_i = D(f_i)$, $U\ij = D(f_if_j)$ ist
     \[\eta\ij = \frac{a\ij}{(f_if_j)^r} \in \M'(D(f_if_j))
        \tikzmark{=} M'(X)^\sim(D(f_if_j)) = \M'(X)_{f_if_j}\]
     mit $a\ij \in \M'(X)$, wobei die Gleichheit \tikzarrow{mark above}{hier}
     durch die Quasikohärenz von $\M'$ mit 
     \thref{satz:modulgarbe quasikohaerent <=> iso auf einschraenkung}
     gegeben ist. Ferner ist zu bemerken, dass $r$ nicht von $i,j$ abhängt.
     Dies können wir \obda erreichen, da $\# I < \infty$.
     Damit haben wir:
     \[0 = \frac{a\ij}{(f_if_j)^r}\rest{U\ijk} - 
        \frac{a\ik}{(f_if_k)^r}\rest{U\ijk} + 
        \frac{a\jk}{(f_jf_k)^r}\rest{U\ijk} \in \M'(X)_{f_if_jf_k}.\]
    Die Restriktionen sind aber gerade gegeben durch    
    \[ \begin{tikzcd} \M'(D(f_if_j)) \dar[empty]{\rotatebox{90}{=}}
        \rar{\_\rest{U_{ijk}}} 
        & M'(D(f_if_jf_k)) \dar[empty]{\rotatebox{90}{=}} \\
        M'(X)_{f_if_j} \rar & \M'(X)_{f_if_jf_k} \\
        \frac{a}{(f_if_j)^r} \rar[mapsto] & 
        \frac{a f_k^r}{(f_if_jf_k)^r},
    \end{tikzcd}\]
    also haben wir
    \[0 = \frac{a\ij f_k^r}{(f_if_jf_k)^r} - 
        \frac{a\ik f_j^r}{(f_if_jf_k)^r} + 
        \frac{a\jk f_i^r}{(f_if_jf_k)^r} \in \M'(X)_{f_if_jf_k}.\]
    Da aber die Lokalisierung an $f_i f_j f_k$ gerade die Lokalisierung an
    $f_k$ von der Lokalisierung an $f_if_j$ ist, existiert $l\in \N$, so dass
    \begin{equation}\label{eq:1} 0 = f_k^{l+r} \frac{a\ij}{(f_if_j)^r} - 
        f_k^l f_j^r\frac{a\ik}{(f_if_k)^r} + 
        f_K^l f_i^r\frac{a\jk}{(f_jf_k)^r} \in \M'(X)_{f_if_j}
    \end{equation}
    Da es nur endlich viele Indizes gibt, haben wir diese Gleichheit
    für alle $k\in I$ und für alle $(i,j)\in I^2$.
    
    Nun ist $D(f_k) = D(f_k^{r+l})$ und $\Spec A = \cup_{k\in I} D(f_k^{r+l})$,
    also
    \[ \bigcap_{k\in I} V((f_k^{r+l})) = V\left(\sum_{k\in I} f_k^{r+l}\right)
    = \emptyset = V(A) \quad\Leftrightarrow\quad 
    1 \in \sum_{k\in I} (f_k^{r+l}).\]
    Damit ist $1 = \sum_{k\in I} h_k f_k^{r+l}$ für geeignete $h_k \in A$.
    Setzen wir nun 
    \[g_i := \sum_{k\in I} h_k f_k^l \frac{a\ik}{f_i^r} \in 
        M'(X)_{f_i} = (M'(X))^\sim(D(f_i)) = \M'(U_i),\]
    wobei sich letzte Gleichheit wieder aus der Quasikohärenz ergibt,
    so haben wir
    \[g_i\rest{U\ij} - g_j\rest{U\ij} = \sum_{k\in I} h_k f_k^l
        \left(f_j^r\frac{a\ik}{(f_if_j)^r} - 
        f_i^r\frac{a\jk}{(f_if_j)^r}\right)
        \tikzmark[1]{=} \underbrace{\sum_{k\in I} h_k f_k^{r+l}}{=1} 
        \frac{a\ij}{(f_if_j)^r} = \eta\ij \in \M'(U\ij),\]
    wobei wir \tikzarrow{mark above}{diesen} Schritt durch Umformung von 
    \autoref{eq:1} erhalten haben. Definieren wir nun
    $\mu_i := \tau_i - g_i \in \M(U_i)$, so haben wir für alle $i,j \in I$
    \[ \mu_i \rest{U\ij} - \mu_j \rest{U\ij} = \eta\ij - \eta\ij = 0\]
    Also existiert ein eindeutiger globaler Schnitt $\mu \in \M(X)$ mit
    $\mu\rest{U\ij} = \mu_i$ für alle $i\in I$.
    
    Benutzen wir nun alles bisherige, so erhalten wir für alle $i\in I$
    \[ \beta(X)(\mu)\rest{U_i} = \beta(U_i)(\mu\rest{U_j}) = 
        \beta(U_i)(\mu_i) = \beta(U_i)(\tau_i) = \sigma\rest{U_i}.\]
    Damit stimmen $\beta(X)(\mu)$ und $\sigma \in \M''(X)$ auf 
    $U_i$ überein. Daher sind sie gleich und wir haben die Surjektivität 
    von $\beta$ gezeigt.
\end{proof}

\subsection{Der \Cech-Komplex}
Wir gehen hier genauer auf die Verwendung des $d$ in vorherigem Beweis ein.
Der Beweis liefert nämlich gerade, dass $\Hv^1(\cal U, \M'') = 0$,
wie wir mit nachstehender Definition sehen.

\begin{definition}[\Cech-Komplex, \Cech-Kohomologie]
    \index[def]{\Cech-Kohomologie!\Cech-Komplex}
    \index[def]{\Cech-Kohomologie}
     \newcommand{\ijk}{_{ijk}}
     \renewcommand{\ij}{_{ij}}
     \newcommand{\ik}{_{ik}}
     \newcommand{\jk}{_{jk}}
    Sie $X$ ein topologischer Raum. $\cal U = (U_i)_{i\in I}$ eine offene
    Überdeckung, $\F \in \Sh_X$. Betrachte den folgenden Kettenkomplex
    \[\everymath{\displaystyle}\begin{tikzcd}
        \Cv^0 \dar[empty]{\rotatebox{90}{=}}\rar &
             \Cv^1 \dar[empty]{\rotatebox{90}{=}}\rar &
             \Cv^2 \dar[empty]{\rotatebox{90}{=}}\rar & \ldots\\
        \prod_{i\in I} \F(U_i) \rar{d} & 
            \prod_{(i,j)\in I^2} \F(U_{ij}) \rar{d} &
            \prod_{(i,j,k)\in I^3} \F(U_{ijk}) \rar{d} & \ldots\\
        (\eta_i)_i \rar[mapsto] & 
            (\eta_i \rest{U_{ij}} - \eta_j \rest{U_{ij}})_{i,j} \\
        &(y_{ij})_{i,j} \rar[mapsto] & 
            (y\ij \rest{U\ijk} - y\ik  \rest{U\ijk} + y\jk\rest{U\ijk})_{i,j,k},
    \end{tikzcd}\]
    so heißt
    \[\Hv^k(\cal U,\F) := \H^k(\text{\Cech-Komplex}) := 
        \ker(d: \Cv^k \to \Cv^{k+1}) \big/ \im(d: \Cv^{k-1} \to \Cv^k)
    \]
    die $k$-te \emph{\Cech-Kohomologie von $\F$ bzgl. $\cal U$}.
\end{definition}

\begin{bemerkung}
    \newcommand{\ijk}{_{ijk}}
    \renewcommand{\ij}{_{ij}}
    \newcommand{\ik}{_{ik}}
    \newcommand{\jk}{_{jk}}
    Da $\F$ eine Garbe ist, haben wir $\Hv^0(\cal U,\F) = \F(X)$!
    Ferner gilt $d \circ d = 0$ und
    für $[(y_{ij})_{i,j}] \in \Hv^1$ haben wir
    $d(y_{ij})_{i,j} = 0$, d.h.
    \[(y\ij \rest{U\ijk} - y\ik  \rest{U\ijk} + y\jk\rest{U\ijk})_{i,j,k}\]
    Diese Bedingung nennen wir \emph{Ko-Zykel-Bedingnung}.
    Ferner ist $[(y\ij)_{i,j}] \in \Hv^1$ per definitionem, falls
    ein $(\eta_i)_i \in \Cv^0$ existiert, so dass
    $(y\ij)_{i,j} = d(\eta_i)_i$, also
    \[y\ij = \eta_i \rest{U\ij} - \eta_j \rest{U\ij}.\]
    Daher nennen wir in dieser Situation $(y\ij)_{i,j}$ einen \emph{Ko-Rand}.
\end{bemerkung}



\subsection{Kohärenz}
\begin{definition}[endlich erzeugt, kohärent]
    \index[def]{O-Modul@\OX-Modul!endlich erzeugt}
    \index[def]{O-Modul@\OX-Modul!kohärent}
    
    \begin{itemize}
      \item Eine \OX Modulgarbe $\M$ heißt \emph{endlich erzeugt}, 
        falls es zu jedem $x\in X$ ein offenes $x\in U\osubset X$ gibt 
        und eine exakte Sequenz
        \[\O_X\rest U^n \to \M\rest U \to 0\]
        für ein $n\in \N$ gibt.
      \item $\M$ heißt \emph{kohärent}, falls $\M$ endlich erzeugt ist und
        wenn für jedes $\alpha$ in
        \[\O_X\rest U^n \xto\alpha \M\rest U \to 0\]
        der $\ker \alpha$ als $\O_U$-Modulgarbe endlich erzeugt ist.
    \end{itemize}
\end{definition}

\begin{bemerkung}
    Sei $A$ ein Ring, so ist ein endlich erzeugter $A$-Modul $M$ nicht anderes, 
    als dass analog zu oben eine exakte Sequenz
    $ A^n \xto\alpha M \to 0$ für ein $n\in \N$ gibt. $M$ ist
    kohärent (oder endlich präsentierter), falls $M$ endlich erzeugt ist
    und $\ker \alpha$ endlich erzeugt ist. Letzteres ist bei immer der Fall,
    falls $A$ noethersch ist.
    
    Der Unterschied zu Ringmoduln wird in nachstehendem Satz deutlich,
    wo wir die Quasikohärenz fordern müssen, um garantieren zu können,
    dass $\M(U)$ überhaupt erzeugbar ist.  
\end{bemerkung}

\begin{satz}
    Sei $(X,\O_X)$ ein lokal noethersches Schema und $\F$ eine
    quasikohärente $\O_X$-Modulgarbe. Dann ist äquivalent:
    \begin{enumerate}[label=(\roman*)]
      \item $\F$ ist kohärent.
      \item $\F$ ist endlich erzeugt.
      \item $\forall U \osubset X$ affin und offen ist
        $\F(U)$ ein endlich erzeugter $\O_X(U)$-Modul. 
    \end{enumerate}
\end{satz}
\begin{proof}
    \begin{description mathquote}
    \item[\text{(ii)}\Rightarrow\text{(iii)}]
        Da $\F$ endlich erzeugt ist, existiert eine offene Überdeckung
        $U = \cup_{i\in I} U_i$ für \obda $U_i = D(f_i)$ mit 
        $f_i \in \O_U(U)$, so dass
        \[\begin{tikzcd}[row sep=small]
            0 \rar & \ker\alpha \rar & 
            \O_U\rest{U_i}^n \rar{\alpha} & \F\rest{U_i} \rar & 0
        \end{tikzcd}\]
        eine kurze exakte Sequenz ist.
        Aus nachstehendem Hilfslemma wissen wir, dass $\ker\alpha$ ebenfalls
        quasikohärent ist und diese bleibt mit 
        \thref{satz:kurze exakte sequenz mit quasikohaerent bleibt exakt}
        beim Einsetzen von $U_i$ exakt, also
        \[\begin{tikzcd}[row sep=small] 
            \O_X(U_i)^{n_i} \rar{\alpha(U_i)} & \F(U_i) \rar & 0.
        \end{tikzcd}\]
        Damit ist $\F(U_i)$ ein endlich erzeugter $\O_X(U_i)$-Modul.
        
        Ferner gilt
        \[\F(U_i) = \F(U) \otimes_{\O_X(U)} \O_X(U)_{f_i} = 
            \F(U) \otimes_{\O_X(U)} \O_X(U_i)\]
        und andererseits aufgrund der Quasikohärenz
        \[\F(U_i) = \F(U)^\sim(U_i) = \F(U)^\sim(D(f_i)) = 
            \F(U)_{f_i}.\]
        Also existiert ein endlich erzeugter $\O_X(U)$-Untermodul
        $M_i \subseteq \F(U)$ mit
        \[\F(U_i) = M_i \otimes_{\O_X(U)} \O_X(U_i),\]
        denn: Seien 
        $\alpha_1, \ldots, \alpha_r \in \F(U)\otimes_{\O_X(U)}\O_X(U_i)$
        ein Erzeugendensystem über $\O_X(U_i)$ mit
        \[\alpha_k = \sum_{k \text{ endlich}} m_{kj} \otimes\lambda_j\]
        mit $m_{kj} \in \F(U)$ und $\lambda_j \in \O_X(U_i)$.
        Damit erzeugen $\{m_{kj}\}_{k,j}$ ein solches $M_i$.
        
        Da die anfangs gewählte Überdeckung \obda endlich ist 
        ($U$ affin, also quasikompakt), existiert en endlich erzeugtes
        $\O_X(U)$-Modul $M$ mit
        \[ M\otimes_{\O_X(U)} \O_X(U_i) \to \F(U_i) \to 0\]
        exakt als Sequenz von $\O_X(U_i)$-Moduln. Betrachte nun 
        Dies ist aber gerade
        $M^\sim(U_i) \to \F(U)^\sim(U_i) \to 0$,
        was die Exaktheit von
        $M^\sim \to \F(U)^\sim \to 0$ als Sequenz von $\O_U$-Modulgarben
        zur Folge hat. Wir setzen wieder $U$ ein und erhalten mit
        \thref{satz:kurze exakte sequenz mit quasikohaerent bleibt exakt}
        $M(U) \to \F(U) \to 0$ exakt.
        Damit ist $\F(U)$ endlich erzeugt.
      \item[\text{(iii)}\Rightarrow\text{(i)}]
        Für jedes offene affine $U$ ist $\F(U)$ endlich erzeugt,
        es existiert also eine exakte Sequenz der Form 
        $\O_X(U)^n \to \F(U) \to 0$. Da $\F$ quasikohärent, ist 
        $\F\rest U = \F(U)^\sim$, wobei  $^\sim$ auf $U = \Spec A$ zu lesen
        ist. Ergo ist auch $\F\rest U$ endlich erzeugt als $\O_U$-Modul.
        Zu zeigen bleibt: Ist $\O_X\rest U ^n \xto\alpha \F\rest U \to 0$ 
        exakt, so ist $\ker \alpha$ endlich erzeugt. Dazu sei
        \obda $U = \Spec A$ affin und $A$ noethersch. Dann
        ist
        \[0\to \ker\alpha\to \O_X\rest U^n \to \F\rest U \to 0\]
        exakt. Mit der Linksexaktheit von $\Gamma(U,\_)$ ist
        \[0\to \ker\alpha(U) \to \O_X(U)^n \to \F(U)\]
        und wieder mit dex Exaktheit von $^\sim$ erhalten wir
        \[0 \to (\ker\alpha(U))^\sim \to \O_X\rest U^n \to \F\rest U.\]
        Also ist $\ker\alpha = (\ker\alpha(U))^\sim$. Weiter
        ist $\ker(\alpha(U)) \subseteq \O_X(U)^n$ ein endlich erzeugter
        $\O_X(U)$-Modul, da nach Voraussetzung $\O_X(U)$ noethersch ist.
        Folglich ist $(\ker\alpha(U))^\sim$ eine endlich erzeugte
        $\O_X\rest U$-Modulgarbe.
    \end{description mathquote}
\end{proof}

\begin{hilfslemma}
    Ist 
    \[0 \to \cal K \to \cal N \xto\alpha \M \to 0\]
    eine kurze exakte Sequenz $\O_X$-Moduln und sind $\M$ und $\cal N$ 
    quasikohärent, so ist $\cal K$ quasikohärent.
\end{hilfslemma}
\begin{proof}

\end{proof}

\pagebreak
